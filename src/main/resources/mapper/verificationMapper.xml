<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mcp.crispy.email.mapper.EmailVerificationMapper">

    <insert id="insertVerification"
            parameterType="EmailVerificationDto">
        <selectKey keyProperty="verifyNo" resultType="int" order="BEFORE">
            SELECT VERIFICATION_SEQ.NEXTVAL FROM DUAL
        </selectKey>
        INSERT INTO VERIFICATION_T (
        VERIFY_NO,
        VERIFY_EMAIL,
        VERIFY_CODE,
        VERIFY_STAT
        )
        VALUES (
        #{verifyNo},
        #{verifyEmail},
        #{verifyCode},
        #{verifyStat}
        )
    </insert>
</mapper>